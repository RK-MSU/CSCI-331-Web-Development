# 1.3 HTTP

The **HyperText Transfer Protocol (HTTP)** is a networking protocol that runs over TCP/IP and governs communication between web browsers and web servers. **Transmission Control Protocol/Internet Protocol (TCP/IP)** is a protocol suite that governs how data packets are transferred over the Internet from one machine to another. Understanding the details of TCP/IP is not usually required of web developers, but a thorough understanding of HTTP is necessary to create effective web applications.

- An **HTTP request** is a message sent from the web browser to the web server. Often the request asks the web server to send back a web resource like an HTML file, image, CSS style sheet, JavaScript file, or video.
- An **HTTP response** is a message sent from the web server back to the web browser in response to an HTTP request. Often the response contains the requested web resource.

## Request and response headers

An HTTP request and an HTTP response are both composed of four parts:

- Status line - The **status line** specifies the HTTP version being used. A request status line includes a request type and path; a response status line includes a status code.
- Zero or more header fields - A **header field** is a keyword followed by a colon and a value. Header fields supply additional information about the request or response.
- Empty line
- Optional message body - A **message body** contains data being transferred between a web browser and web server. In a request, the message body may be empty or contain submitted form data. In a response, the message body may contain the requested resource.

More Info:

- Content-Length: Number of bytes in the response's message body.
- Content-Type: Media type of the response's message body.
- Date: Datetime the response was generated by the web server.
- Last-Modified: Datetime the requested resource was last modified on the web server.
- Server: Identifies the web server software that generated the response.
- Host: The domain name for the requested path.
- User-Agent: Identifies the browser making the request.

List of HTTP headers: <https://www.iana.org/assignments/message-headers/message-headers.xhtml>

## Request methods and response status codes

| Request method | Meaning |
| :-- | :-- |
| GET | Request a representation of the specified resource. |
| HEAD | Request a response identical to GET but without the response body. |
| POST | Request the web server to accept the message body enclosed in the request as a new resource. |
| PUT | Request the web server to accept the message body enclosed in the request as a modification of an existing resource. |
| DELETE | Request the web server to delete the existing resource. |

An HTTP response **status code** is a three digit number that indicates the status of the requested resource.

| Status code | Status phrase | Meaning |
| :-- | :-- | :-- |
| 200 | OK | Standard response for a successful request. |
| 301 | Moved Permanently | The resource should always be requested at a different URL. |
| 302 | Found | The resource should temporarily be requested at a different URL. |
| 304 | Not Modified | The resource has not been modified since the last time the resource was requested. |
| 403 | Forbidden | The web browser does not have permission to access the resource. |
| 404 | Not Found | The resource could not be located. |
| 500 | Internal Server Error | Something unexpected happened on the web server. |

## Browser caching

Most web browsers use a browser cache to store requested content. A **browser cache** is an area on the computer's disk where web content can be stored by the web browser for quick retrieval later.

Web browsers often use ETags to aid in caching web resources. An **entity tag (ETag)** is an identifier for a specific version of a web resource.

HTTP defines additional HTTP headers to aid in caching:

- **If-Modified-Since** is used with the Last-Modified date/time to request the web server only send the requested resource if the resource has changed since the specified date/time. Ex: "If-Modified-Since: Wed, 01 Sep 2019 13:24:52 GMT" asks the web server to send the resource if the resource was modified after Sep 1, 2019 at 13:24:52 GMT.
- **Expires** contains a date/time indicating when the requested resource is considered "stale". Ex: "Expires: Wed, 01 Sep 2019 13:24:52 GMT" tells the web browser to show the cached resource until Sep 1, 2019 at 13:24:52 GMT.
- **Cache-Control** is used to specify a number of caching directives. Ex: "Cache-Control: no-store" tells the web browser to never cache the requested resource, and "Cache-Control: max-age=180" tells the browser to cache the resource for 180 seconds.
